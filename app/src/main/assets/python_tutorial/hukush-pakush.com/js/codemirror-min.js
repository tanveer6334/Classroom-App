var CodeMirror=function(){function t(r,o){function a(t){return t>=0&&t<we.length}function u(t){ke=null;var e={line:0,ch:0};F(e,{line:we.length-1,ch:we[we.length-1].text.length},P(t),e,e),ke=new l}function p(t){for(var e=[],n=0,r=we.length;n<r;++n)e.push(we[n].text);return e.join("\n")}function g(t){function e(){rt(),Ee=!0,f(),u()}function n(t){var e=Vt(t,!0);if(e&&!M(e,a)){Me||R(),a=e,dt(o,e),Ee=!1;var r=at();(e.line>=r.to||e.line<r.from)&&(l=setTimeout(_t(function(){n(t)}),150))}}for(var r=c(t);r!=oe;r=r.parentNode)if(r.parentNode==se&&r!=he)return;var i=Ae;Ae=null;for(var r=c(t);r!=oe;r=r.parentNode)if(r.parentNode==de)return ee.onGutterClick&&ee.onGutterClick(Fe,T(de.childNodes,r)+De),s(t);var o=Vt(t);switch(d(t)){case 3:return void(N&&!W&&Ft(t));case 2:return void(o&&vt(o.line,o.ch,!0))}if(!o)return void(c(t)==fe&&s(t));if(Me||R(),s(t),i&&+new Date-i<400)return Ct(o.line);vt(o.line,o.ch,!0);var l,a=o,f=m(ie,"mousemove",_t(function(t){clearTimeout(l),s(t),n(t)}),!0),u=m(ie,"mouseup",_t(function(t){clearTimeout(l);var n=Vt(t);n&&dt(o,n),s(t),e()}),!0)}function w(t){var e=Vt(t);e&&(bt(e),s(t),Ae=+new Date)}function S(t){function e(t,e){var r=new FileReader;r.onload=function(){o[e]=r.result,++l==i&&J(o.join(""),gt(n),gt(n))},r.readAsText(t)}t.preventDefault();var n=Vt(t,!0),r=t.dataTransfer.files;if(n&&!ee.readOnly)if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,a=0;a<i;++a)e(r[a],a);else try{var o=t.dataTransfer.getData("Text");o&&J(o,n,n)}catch(t){}}function A(t){Me||R();var e=t.keyCode;O&&27==e&&(t.returnValue=!1);var n=(W?t.metaKey:t.ctrlKey)&&!t.altKey,r=t.ctrlKey||t.altKey||t.metaKey;if(Te=16==e||t.shiftKey?Te||(Ie.inverted?Ie.to:Ie.from):null,!ee.onKeyEvent||!ee.onKeyEvent(Fe,f(t))){if(33==e||34==e)return xt(34==e),s(t);if(n&&(36==e||35==e||W&&(38==e||40==e)))return yt(36==e||38==e),s(t);if(n&&65==e)return Mt(),s(t);if(!ee.readOnly){if(!r&&13==e)return;if(!r&&9==e&&kt(t.shiftKey))return s(t);if(n&&90==e)return G(),s(t);if(n&&(t.shiftKey&&90==e||89==e))return X(),s(t)}if(36==e&&ee.smartHome)return Tt(),s(t);if(je=(n?"c":"")+(t.altKey?"a":"")+e,Ie.inverted&&I[je]===!0){var i=j(ae);i&&(Se={anchor:i.start},z(ae,i.start,i.start))}n||t.altKey||(je=null),tt(je)}}function H(t){ee.onKeyEvent&&ee.onKeyEvent(Fe,f(t))||(Se&&(Se=null,Ee=!0),16==t.keyCode&&(Te=null))}function D(t){if(!ee.onKeyEvent||!ee.onKeyEvent(Fe,f(t))){if(ee.electricChars&&xe.electricChars){var e=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);xe.electricChars.indexOf(e)>-1&&setTimeout(_t(function(){St(Ie.to.line,"smart")}),50)}var n=t.keyCode;13==n?(ee.readOnly||wt(),s(t)):t.ctrlKey||t.altKey||t.metaKey||9!=n||"default"==ee.tabMode?tt(je):s(t)}}function R(){"nocursor"!=ee.readOnly&&(Me||(ee.onFocus&&ee.onFocus(Fe),Me=!0,oe.className.search(/\bCodeMirror-focused\b/)==-1&&(oe.className+=" CodeMirror-focused"),He||nt()),_(),Ut())}function V(){Me&&(ee.onBlur&&ee.onBlur(Fe),Me=!1,oe.className=oe.className.replace(" CodeMirror-focused","")),clearInterval(ge),setTimeout(function(){Me||(Te=null)},150)}function F(t,e,n,r,i){if(ke){for(var o=[],l=t.line,a=e.line+1;l<a;++l)o.push(we[l].text);for(ke.addChange(t.line,n.length,o);ke.done.length>ee.undoDepth;)ke.done.shift()}Y(t,e,n,r,i)}function U(t,e){var n=t.pop();if(n){for(var r=[],i=n.start+n.added,o=n.start;o<i;++o)r.push(we[o].text);e.push({start:n.start,added:n.old.length,old:r});var l=gt({line:n.start+n.old.length-1,ch:k(r[r.length-1],n.old[n.old.length-1])});Y({line:n.start,ch:0},{line:i-1,ch:we[i-1].text.length},n.old,l,l),Ee=!0}}function G(){U(ke.done,ke.undone)}function X(){U(ke.undone,ke.done)}function Y(t,e,n,r,o){function l(t){return t<=Math.min(e.line,e.line+g)?t:t+g}for(var a=!1,f=ze.length,s=t.line;s<=e.line;++s)if(we[s].text.length==f){a=!0;break}var u=e.line-t.line,h=we[t.line],c=we[e.line];if(h==c)if(1==n.length)h.replace(t.ch,e.ch,n[0]);else{c=h.split(e.ch,n[n.length-1]);var d=[t.line+1,u];h.replace(t.ch,h.text.length,n[0]);for(var s=1,m=n.length-1;s<m;++s)d.push(new i(n[s]));d.push(c),we.splice.apply(we,d)}else if(1==n.length)h.replace(t.ch,h.text.length,n[0]+c.text.slice(e.ch)),we.splice(t.line+1,u);else{var d=[t.line+1,u-1];h.replace(t.ch,h.text.length,n[0]),c.replace(0,e.ch,n[n.length-1]);for(var s=1,m=n.length-1;s<m;++s)d.push(new i(n[s]));we.splice.apply(we,d)}for(var s=t.line,m=s+n.length;s<m;++s){var v=we[s].text;v.length>f&&(ze=v,f=v.length,We=null,a=!1)}if(a){f=0,ze="",We=null;for(var s=0,m=we.length;s<m;++s){var v=we[s].text;v.length>f&&(f=v.length,ze=v)}}for(var p=[],g=n.length-u-1,s=0,v=ye.length;s<v;++s){var x=ye[s];x<t.line?p.push(x):x>e.line&&p.push(x+g)}n.length<5?(Jt(t.line,t.line+n.length),p.push(t.line+n.length)):p.push(t.line),ye=p,Qt(100),Le.push({from:t.line,to:e.line+1,diff:g}),Ne={from:t,to:e,text:n},mt(r,o,l(Ie.from.line),l(Ie.to.line)),se.style.height=we.length*Pt()+2*jt()+"px"}function J(t,e,n){function r(r){if(b(r,e))return r;if(!b(n,r))return i;var o=r.line+t.length-(n.line-e.line)-1,l=r.ch;return r.line==n.line&&(l+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:o,ch:l}}e=gt(e),n=n?gt(n):e,t=P(t);var i;return Q(t,e,n,function(t){return i=t,{from:r(Ie.from),to:r(Ie.to)}}),i}function q(t,e){Q(P(t),Ie.from,Ie.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:Ie.from,to:Ie.from}:{from:Ie.from,to:t}})}function Q(t,e,n,r){var i=1==t.length?t[0].length+e.ch:t[t.length-1].length,o=r({line:e.line+t.length-1,ch:i});F(e,n,t,o.from,o.to)}function Z(t,e){var n=t.line,r=e.line;if(n==r)return we[n].text.slice(t.ch,e.ch);for(var i=[we[n].text.slice(t.ch)],o=n+1;o<r;++o)i.push(we[o].text);return i.push(we[r].text.slice(0,e.ch)),i.join("\n")}function $(){return Z(Ie.from,Ie.to)}function _(){Ue||be.set(2e3,function(){Zt(),et(),Me&&_(),$t()})}function tt(t){function e(){Zt();var r=et();r&&t&&("moved"==r&&null==I[t]&&(I[t]=!0),"changed"==r&&(I[t]=!1)),r||n?(Ue=!1,_()):(n=!0,be.set(80,e)),$t()}var n=!1;Ue=!0,be.set(20,e)}function et(){function t(t,e){for(var r=0;;){var i=n.indexOf("\n",r);if(i==-1||("\r"==n.charAt(i-1)?i-1:i)>=t)return{line:e,ch:t-r};++e,r=i+1}}if(!He&&Me){var e=!1,n=ae.value,r=j(ae);if(!r)return!1;var e=Be.text!=n,i=Se,o=e||r.start!=Be.start||r.end!=(i?Be.start:Be.end);if(!o&&!i)return!1;if(e&&(Te=Se=null,ee.readOnly))return Ee=!0,"changed";var l=t(r.start,Be.from),a=t(r.end,Be.from);if(i){var f=r.start==i.anchor?a:l,s=Te?Ie.to:r.start==i.anchor?l:a;(Ie.inverted=b(f,s))?(l=f,a=s):(Se=null,l=s,a=f)}if(l.line!=a.line||l.line!=Ie.from.line||l.line!=Ie.to.line||Te||(Ee=!1),e){for(var u,h=0,c=n.length,d=Math.min(c,Be.text.length),m=Be.from,v=-1;h<d&&(u=n.charAt(h))==Be.text.charAt(h);)++h,"\n"==u&&(m++,v=h);for(var p=v>-1?h-v:h,g=Be.to-1,x=Be.text.length;;){if(u=Be.text.charAt(x),n.charAt(c)!=u){++c,++x;break}if("\n"==u&&g--,x<=h||c<=h)break;--c,--x}var v=Be.text.lastIndexOf("\n",x-1),y=v==-1?x:x-v-1;F({line:m,ch:p},{line:g,ch:y},P(n.slice(h,c)),l,a),m==g&&l.line==m||(Ee=!0)}else mt(l,a);return Be.text=n,Be.start=r.start,Be.end=r.end,e?"changed":!!o&&"moved"}}function nt(){for(var t=[],e=Math.max(0,Ie.from.line-1),n=Math.min(we.length,Ie.to.line+2),r=e;r<n;++r)t.push(we[r].text);t=ae.value=t.join(B);for(var i=Ie.from.ch,o=Ie.to.ch,r=e;r<Ie.from.line;++r)i+=B.length+we[r].text.length;for(var r=e;r<Ie.to.line;++r)o+=B.length+we[r].text.length;Be={text:t,from:e,to:n,start:i,end:o},z(ae,i,Se?i:o)}function rt(){"nocursor"!=ee.readOnly&&ae.focus()}function it(){if(ve.getBoundingClientRect){var t=ve.getBoundingClientRect(),e=window.innerHeight||document.body.offsetHeight||document.documentElement.offsetHeight;(t.top<0||t.bottom>e)&&ve.scrollIntoView()}}function ot(){var t=Dt(Ie.inverted?Ie.from:Ie.to);return lt(t.x,t.y,t.x,t.yBot)}function lt(t,e,n,r){var i=zt(),o=jt(),l=Pt();e+=o,r+=o,t+=i,n+=i;var a=fe.clientHeight,f=fe.scrollTop,s=!1,u=!0;e<f?(fe.scrollTop=Math.max(0,e-2*l),s=!0):r>f+a&&(fe.scrollTop=r+l-a,s=!0);var h=fe.clientWidth,c=fe.scrollLeft;return t<c?(t<50&&(t=0),fe.scrollLeft=Math.max(0,t-10),s=!0):n>h+c&&(fe.scrollLeft=n+10-h,s=!0,n>se.clientWidth&&(u=!1)),s&&ee.onScroll&&ee.onScroll(Fe),u}function at(){var t=Pt(),e=fe.scrollTop-jt();return{from:Math.min(we.length,Math.max(0,Math.floor(e/t))),to:Math.min(we.length,Math.ceil((e+fe.clientHeight)/t))}}function ft(t){if(!fe.clientWidth)return void(De=Re=0);for(var e=t===!0?[]:[{from:De,to:Re,domStart:0}],n=0,r=t.length||0;n<r;++n){for(var i=t[n],o=[],l=i.diff||0,a=0,f=e.length;a<f;++a){var s=e[a];i.to<=s.from?o.push({from:s.from+l,to:s.to+l,domStart:s.domStart}):s.to<=i.from?o.push(s):(i.from>s.from&&o.push({from:s.from,to:i.from,domStart:s.domStart}),i.to<s.to&&o.push({from:i.to+l,to:s.to+l,domStart:s.domStart+(i.to-s.from)}))}e=o}for(var u=at(),h=Math.min(De,Math.max(u.from-3,0)),c=Math.min(we.length,Math.max(Re,u.to+3)),d=[],m=0,v=Re-De,p=h,g=0,n=0,r=e.length;n<r;++n){var s=e[n];if(!(s.to<=h)){if(s.from>=c)break;(s.domStart>m||s.from>p)&&(d.push({from:p,to:s.from,domSize:s.domStart-m,domStart:m}),g+=s.from-p),p=s.to,m=s.domStart+(s.to-s.from)}}if(m==v&&p==c||(g+=Math.abs(c-p),d.push({from:p,to:c,domSize:v-m,domStart:m})),d.length){pe.style.display="none",g>.3*(u.to-u.from)?st(h=Math.max(u.from-10,0),c=Math.min(u.to+7,we.length)):ut(d),pe.style.display="";var x=h!=De||c!=Re||Pe!=fe.clientHeight;if(De=h,Re=c,he.style.top=h*Pt()+"px",x&&(Pe=fe.clientHeight,se.style.height=we.length*Pt()+2*jt()+"px"),(x||d.length)&&ht(),null==We&&(We=Kt(ze)),We>fe.clientWidth?(me.style.width=We+"px",se.style.width="",se.style.width=fe.scrollWidth+"px"):me.style.width=se.style.width="",pe.childNodes.length!=Re-De)throw new Error("BAD PATCH! "+JSON.stringify(d)+" size="+(Re-De)+" nodes="+pe.childNodes.length);ct()}}function st(t,e){for(var n=[],r={line:t,ch:0},i=b(Ie.from,r)&&!b(Ie.to,r),o=t;o<e;++o){var l=null,a=null;i?(l=0,Ie.to.line==o&&(i=!1,a=Ie.to.ch)):Ie.from.line==o&&(Ie.to.line==o?(l=Ie.from.ch,a=Ie.to.ch):(i=!0,l=Ie.from.ch)),n.push(we[o].getHTML(l,a,!0))}pe.innerHTML=n.join("")}function ut(t){for(var e=Ie.from.line,n=Ie.to.line,r=0,i=L&&ie.createElement("div"),o=0,l=t.length;o<l;++o){var a=t[o],f=a.to-a.from-a.domSize,s=pe.childNodes[a.domStart+a.domSize+r]||null;if(L)for(var u=Math.max(-f,a.domSize);u>0;--u)pe.removeChild(s?s.previousSibling:pe.lastChild);else if(f){for(var u=Math.max(0,f);u>0;--u)pe.insertBefore(ie.createElement("pre"),s);for(var u=Math.max(0,-f);u>0;--u)pe.removeChild(s?s.previousSibling:pe.lastChild)}for(var h=pe.childNodes[a.domStart+r],c=e<a.from&&n>=a.from,u=a.from;u<a.to;++u){var d=null,m=null;c?(d=0,n==u&&(c=!1,m=Ie.to.ch)):e==u&&(n==u?(d=Ie.from.ch,m=Ie.to.ch):(c=!0,d=Ie.from.ch)),L?(i.innerHTML=we[u].getHTML(d,m,!0),pe.insertBefore(i.firstChild,s)):(h.innerHTML=we[u].getHTML(d,m,!1),h.className=we[u].className||"",h=h.nextSibling)}r+=f}}function ht(){if(ee.gutter||ee.lineNumbers){var t=he.offsetHeight,e=fe.clientHeight;ce.style.height=(t-e<2?e:t)+"px";for(var n=[],r=De;r<Math.max(Re,De+1);++r){var i=we[r].gutterMarker,o=ee.lineNumbers?r+ee.firstLineNumber:null;i&&i.text?o=i.text.replace("%N%",null!=o?o:""):null==o&&(o=" "),n.push(i&&i.style?'<pre class="'+i.style+'">':"<pre>",o,"</pre>")}ce.style.display="none",de.innerHTML=n.join("");for(var l=String(we.length).length,a=de.firstChild,f=y(a),s="";f.length+s.length<l;)s+=" ";s&&a.insertBefore(ie.createTextNode(s),a.firstChild),ce.style.display="",me.style.marginLeft=ce.offsetWidth+"px"}}function ct(){var t=Ie.inverted?Ie.from:Ie.to,e=Pt(),n=Wt(t.line,t.ch);le.style.top=t.line*e-fe.scrollTop+"px",le.style.left=n-fe.scrollLeft+"px",M(Ie.from,Ie.to)?(ve.style.top=(t.line-De)*e+"px",ve.style.left=n+"px",ve.style.display=""):ve.style.display="none"}function dt(t,e){var n=Te&&gt(Te);n&&(b(n,t)?t=n:b(e,n)&&(e=n)),mt(t,e)}function mt(t,e,n,r){if(!M(Ie.from,t)||!M(Ie.to,e)){if(b(e,t)){var i=e;e=t,t=i}M(t,e)?Ie.inverted=!1:M(t,Ie.to)?Ie.inverted=!1:M(e,Ie.from)&&(Ie.inverted=!0),null==n&&(n=Ie.from.line,r=Ie.to.line),M(t,e)?M(Ie.from,Ie.to)||Le.push({from:n,to:r+1}):M(Ie.from,Ie.to)?Le.push({from:t.line,to:e.line+1}):(M(t,Ie.from)||(t.line<n?Le.push({from:t.line,to:Math.min(e.line,n)+1}):Le.push({from:n,to:Math.min(r,t.line)+1})),M(e,Ie.to)||(e.line<r?Le.push({from:Math.max(n,t.line),to:r+1}):Le.push({from:Math.max(t.line,r),to:e.line+1}))),Ie.from=t,Ie.to=e,Oe=!0}}function vt(t,e,n){var r=gt({line:t,ch:e||0});(n?dt:mt)(r,r)}function pt(t){return Math.max(0,Math.min(t,we.length-1))}function gt(t){if(t.line<0)return{line:0,ch:0};if(t.line>=we.length)return{line:we.length-1,ch:we[we.length-1].text.length};var e=t.ch,n=we[t.line].text.length;return null==e||e>n?{line:t.line,ch:n}:e<0?{line:t.line,ch:0}:t}function xt(t){var e=Math.floor(fe.clientHeight/Pt()),n=Ie.inverted?Ie.from:Ie.to;vt(n.line+Math.max(e-1,1)*(t?1:-1),n.ch,!0)}function yt(t){var e=t?{line:0,ch:0}:{line:we.length-1,ch:we[we.length-1].text.length};dt(e,e)}function Mt(){var t=we.length-1;mt({line:0,ch:0},{line:t,ch:we[t].text.length})}function bt(t){for(var e=we[t.line].text,n=t.ch,r=t.ch;n>0&&/\w/.test(e.charAt(n-1));)--n;for(;r<e.length&&/\w/.test(e.charAt(r));)++r;dt({line:t.line,ch:n},{line:t.line,ch:r})}function Ct(t){dt({line:t,ch:0},{line:t,ch:we[t].text.length})}function wt(){q("\n","end"),"flat"!=ee.enterMode&&St(Ie.from.line,"keep"==ee.enterMode?"prev":"smart")}function kt(t){function e(t){if(M(Ie.from,Ie.to))return St(Ie.from.line,t);for(var e=Ie.to.line-(Ie.to.ch?0:1),n=Ie.from.line;n<=e;++n)St(n,t)}switch(Te=null,ee.tabMode){case"default":return!1;case"indent":e("smart");break;case"classic":if(M(Ie.from,Ie.to)){t?St(Ie.from.line,"smart"):q("\t","end");break}case"shift":e(t?"subtract":"add")}return!0}function Tt(){var t=Math.max(0,we[Ie.from.line].text.search(/\S/));vt(Ie.from.line,Ie.from.ch<=t&&Ie.from.ch?0:t,!0)}function St(t,e){if("smart"==e)if(xe.indent)var n=Yt(t);else e="prev";var r,i=we[t],o=i.indentation(),l=i.text.match(/^\s*/)[0];"prev"==e?r=t?we[t-1].indentation():0:"smart"==e?r=xe.indent(n,i.text.slice(l.length)):"add"==e?r=o+ee.indentUnit:"subtract"==e&&(r=o-ee.indentUnit),r=Math.max(0,r);var a=r-o;if(a){var f="",s=0;if(ee.indentWithTabs)for(var u=Math.floor(r/K);u;--u)s+=K,f+="\t";for(;s<r;)++s,f+=" "}else{if(Ie.from.line!=t&&Ie.to.line!=t)return;var f=l}J(f,{line:t,ch:0},{line:t,ch:l.length})}function At(){xe=t.getMode(ee,ee.mode);for(var e=0,n=we.length;e<n;++e)we[e].stateAfter=null;ye=[0],Qt()}function Et(){var t=ee.gutter||ee.lineNumbers;ce.style.display=t?"":"none",t?ht():pe.parentNode.style.marginLeft=0}function Lt(t,e,n){function r(t,e,n,r){var t=we[t],o=t.addMark(e,n,r);o.line=t,i.push(o)}t=gt(t),e=gt(e);var i=[];if(t.line==e.line)r(t.line,t.ch,e.ch,n);else{r(t.line,t.ch,null,n);for(var o=t.line+1,l=e.line;o<l;++o)r(o,0,null,n);r(e.line,0,e.ch,n)}return Le.push({from:t.line,to:e.line+1}),function(){for(var t,e,n=0;n<i.length;++n){var r=i[n],o=T(we,r.line);r.line.removeMark(r),o>-1&&(null==t&&(t=o),e=o)}null!=t&&Le.push({from:t,to:e+1})}}function Nt(t,e,n){return"number"==typeof t&&(t=we[pt(t)]),t.gutterMarker={text:e,style:n},ht(),t}function Ot(t){"number"==typeof t&&(t=we[pt(t)]),t.gutterMarker=null,ht()}function Ht(t,e){if("number"==typeof t){var n=t;t=we[pt(t)]}else{var n=T(we,t);if(n==-1)return null}return t.className!=e&&(t.className=e,Le.push({from:n,to:n+1})),t}function Bt(t){if("number"==typeof t){var e=t;if(t=we[t],!t)return null}else{var e=T(we,t);if(e==-1)return null}var n=t.gutterMarker;return{line:e,text:t.text,markerText:n&&n.text,markerClass:n&&n.style}}function Kt(t){return ue.innerHTML="<pre><span>x</span></pre>",ue.firstChild.firstChild.firstChild.nodeValue=t,ue.firstChild.firstChild.offsetWidth||10}function Wt(t,e){return 0==e?0:(ue.innerHTML="<pre><span>"+we[t].getHTML(null,null,!1,e)+"</span></pre>",ue.firstChild.firstChild.offsetWidth)}function It(t,e){function n(t){return ue.innerHTML="<pre><span>"+i.getHTML(null,null,!1,t)+"</span></pre>",ue.firstChild.firstChild.offsetWidth}if(e<=0)return 0;for(var r,i=we[t],o=i.text,l=0,a=0,f=o.length,s=Math.min(f,Math.ceil(e/Kt("x")));;){var u=n(s);if(!(u<=e&&s<f)){r=u,f=s;break}s=Math.min(f,Math.ceil(1.2*s))}if(e>r)return f;for(s=Math.floor(.8*f),u=n(s),u<e&&(l=s,a=u);;){if(f-l<=1)return r-e>e-a?l:f;var h=Math.ceil((l+f)/2),c=n(h);c>e?(f=h,r=c):(l=h,a=c)}}function Dt(t,e){var n=Pt(),r=t.line-(e?De:0);return{x:Wt(t.line,t.ch),y:r*n,yBot:(r+1)*n}}function Rt(t){var e=Dt(t,!0),n=x(me);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function Pt(){var t=pe.childNodes.length;return t?pe.offsetHeight/t||1:(ue.innerHTML="<pre>x</pre>",ue.firstChild.offsetHeight||1)}function jt(){return me.offsetTop}function zt(){return me.offsetLeft}function Vt(t,e){var n,r,i=x(fe,!0);try{n=t.clientX,r=t.clientY}catch(t){return null}if(!e&&(n-i.left>fe.clientWidth||r-i.top>fe.clientHeight))return null;var o=x(me,!0),l=De+Math.floor((r-o.top)/Pt());return gt({line:l,ch:It(pt(l),n-o.left)})}function Ft(t){function e(){var t=P(ae.value).join("\n");t!=i&&_t(q)(t,"end"),le.style.position="relative",ae.style.cssText=r,He=!1,nt(),_()}var n=Vt(t);if(n&&!window.opera){(M(Ie.from,Ie.to)||b(n,Ie.from)||!b(n,Ie.to))&&_t(vt)(n.line,n.ch);var r=ae.style.cssText;le.style.position="absolute",ae.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",He=!0;var i=ae.value=$();if(rt(),z(ae,0,ae.value.length),N){h(t);var o=m(window,"mouseup",function(){o(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function Ut(){clearInterval(ge);var t=!0;ve.style.visibility="",ge=setInterval(function(){ve.style.visibility=(t=!t)?"":"hidden"},650)}function Gt(t){function e(t,e,n){if(t.text)for(var r,i=t.styles,o=l?0:t.text.length-1,f=l?0:i.length-2,s=l?i.length:-2;f!=s;f+=2*a){var u=i[f];if(null==i[f+1]||i[f+1]==c){for(var h=l?0:u.length-1,v=l?u.length:-1;h!=v;h+=a,o+=a)if(o>=e&&o<n&&m.test(r=u.charAt(h))){var p=Ge[r];if(">"==p.charAt(1)==l)d.push(r);else{if(d.pop()!=p.charAt(0))return{pos:o,match:!1};if(!d.length)return{pos:o,match:!0}}}}else o+=a*u.length}}var n=Ie.inverted?Ie.from:Ie.to,r=we[n.line],i=n.ch-1,o=i>=0&&Ge[r.text.charAt(i)]||Ge[r.text.charAt(++i)];if(o){for(var l=(o.charAt(0),">"==o.charAt(1)),a=l?1:-1,f=r.styles,s=i+1,u=0,h=f.length;u<h;u+=2)if((s-=f[u].length)<=0){var c=f[u+1];break}for(var d=[r.text.charAt(i)],m=/[(){}[\]]/,u=n.line,h=l?Math.min(u+100,we.length):Math.max(-1,u-100);u!=h;u+=a){var r=we[u],v=u==n.line,p=e(r,v&&l?i+1:0,v&&!l?i:r.text.length);if(p)break}p||(p={pos:null,match:!1});var c=p.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",g=Lt({line:n.line,ch:i},{line:n.line,ch:i+1},c),x=null!=p.pos?Lt({line:u,ch:p.pos},{line:u,ch:p.pos+1},c):function(){},y=_t(function(){g(),x()});t?setTimeout(y,800):Ke=y}}function Xt(t){for(var e,n,r=t,i=t-40;r>i;--r){if(0==r)return 0;var o=we[r-1];if(o.stateAfter)return r;var l=o.indentation();(null==n||e>l)&&(n=r-1,e=l)}return n}function Yt(t){var r=Xt(t),i=r&&we[r-1].stateAfter;i=i?e(xe,i):n(xe);for(var o=r;o<t;++o){var l=we[o];l.highlight(xe,i),l.stateAfter=e(xe,i)}return t<we.length&&!we[t].stateAfter&&ye.push(t),i}function Jt(t,n){for(var r=Yt(t),i=t;i<n;++i){var o=we[i];o.highlight(xe,r),o.stateAfter=e(xe,r)}}function qt(){for(var t=+new Date+ee.workTime,r=ye.length;ye.length;){if(we[De].stateAfter)var i=ye.pop();else var i=De;if(!(i>=we.length)){var o=Xt(i),l=o&&we[o-1].stateAfter;l=l?e(xe,l):n(xe);for(var a=0,f=xe.compareStates,s=!1,u=o,h=we.length;u<h;++u){var c=we[u],d=c.stateAfter;if(+new Date>t)return ye.push(u),Qt(ee.workDelay),void(s&&Le.push({from:i,to:u+1}));var m=c.highlight(xe,l);if(m&&(s=!0),c.stateAfter=e(xe,l),f){if(d&&f(d,l))break}else if(m===!1&&d){if(++a>3)break}else a=0}s&&Le.push({from:i,to:u+1})}}r&&ee.onHighlightComplete&&ee.onHighlightComplete(Fe)}function Qt(t){ye.length&&Ce.set(t,_t(qt))}function Zt(){Ee=null,Le=[],Ne=Oe=!1}function $t(){var t=!1;Oe&&(t=!ot()),Le.length?ft(Le):Oe&&ct(),t&&ot(),Oe&&(it(),Ut()),Me&&!He&&(Ee===!0||Ee!==!1&&Oe)&&nt(),Oe&&ee.matchBrackets&&setTimeout(_t(function(){Ke&&(Ke(),Ke=null),Gt(!1)}),20);var e=Ne;Oe&&ee.onCursorActivity&&ee.onCursorActivity(Fe),e&&ee.onChange&&Fe&&ee.onChange(Fe,e)}function _t(t){return function(){Xe++||Zt();try{var e=t.apply(this,arguments)}finally{--Xe||$t()}return e}}function te(t,e,n){if(this.atOccurrence=!1,null==n&&(n="string"==typeof t&&t==t.toLowerCase()),e=e&&"object"==typeof e?gt(e):{line:0,ch:0},this.pos={from:e,to:e},"string"!=typeof t)this.matches=function(e,n){if(e)for(var r=we[n.line].text.slice(0,n.ch),i=r.match(t),o=0;i;){var l=r.indexOf(i[0]);o+=l,r=r.slice(l+1);var a=r.match(t);if(!a)break;i=a,o++}else var r=we[n.line].text.slice(n.ch),i=r.match(t),o=i&&n.ch+r.indexOf(i[0]);if(i)return{from:{line:n.line,ch:o},to:{line:n.line,ch:o+i[0].length},match:i}};else{n&&(t=t.toLowerCase());var r=n?function(t){return t.toLowerCase()}:function(t){return t},i=t.split("\n");1==i.length?this.matches=function(e,n){var i,o=r(we[n.line].text),l=t.length;if(e?n.ch>=l&&(i=o.lastIndexOf(t,n.ch-l))!=-1:(i=o.indexOf(t,n.ch))!=-1)return{from:{line:n.line,ch:i},to:{line:n.line,ch:i+l}}}:this.matches=function(t,e){var n=e.line,o=t?i.length-1:0,l=i[o],a=r(we[n].text),f=t?a.indexOf(l)+l.length:a.lastIndexOf(l);if(!(t?f>=e.ch||f!=l.length:f<=e.ch||f!=a.length-l.length))for(;;){if(t?!n:n==we.length-1)return;if(a=r(we[n+=t?-1:1].text),l=i[t?--o:++o],!(o>0&&o<i.length-1)){var s=t?a.lastIndexOf(l):a.indexOf(l)+l.length;if(t?s!=a.length-l.length:s!=l.length)return;var u={line:e.line,ch:f},h={line:n,ch:s};return{from:t?h:u,to:t?u:h}}if(a!=l)return}}}}var ee={},ne=t.defaults;for(var re in ne)ne.hasOwnProperty(re)&&(ee[re]=(o&&o.hasOwnProperty(re)?o:ne)[re]);var ie=ee.document,oe=ie.createElement("div");oe.className="CodeMirror",oe.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+ee.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',r.appendChild?r.appendChild(oe):r(oe);var le=oe.firstChild,ae=le.firstChild,fe=oe.lastChild,se=fe.firstChild,ue=se.firstChild,he=ue.nextSibling,ce=he.firstChild,de=ce.firstChild,me=ce.nextSibling.firstChild,ve=me.firstChild,pe=ve.nextSibling;null!=ee.tabindex&&(ae.tabindex=ee.tabindex),ee.gutter||ee.lineNumbers||(ce.style.display="none");var ge,xe,ye,Me,be=new v,Ce=new v,we=[new i("")],ke=new l;At();var Te,Se,Ae,Ee,Le,Ne,Oe,He,Be,Ke,We,Ie={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},De=0,Re=0,Pe=0,je=null,ze="";_t(function(){u(ee.value||""),Ee=!1})(),m(fe,"mousedown",_t(g)),N||m(fe,"contextmenu",Ft),m(se,"dblclick",_t(w)),m(fe,"scroll",function(){ft([]),ee.onScroll&&ee.onScroll(Fe)}),m(window,"resize",function(){ft(!0)}),m(ae,"keyup",_t(H)),m(ae,"keydown",_t(A)),m(ae,"keypress",_t(D)),m(ae,"focus",R),m(ae,"blur",V),m(fe,"dragenter",h),m(fe,"dragover",h),m(fe,"drop",_t(S)),m(fe,"paste",function(){rt(),tt()}),m(ae,"paste",function(){tt()}),m(ae,"cut",function(){tt()});var Ve;try{Ve=ie.activeElement==ae}catch(t){}Ve?setTimeout(R,20):V();var Fe={getValue:p,setValue:_t(u),getSelection:$,replaceSelection:_t(q),focus:function(){rt(),R(),tt()},setOption:function(t,e){ee[t]=e,"lineNumbers"==t||"gutter"==t||"firstLineNumber"==t?Et():"mode"==t||"indentUnit"==t?At():"readOnly"==t&&"nocursor"==e?ae.blur():"theme"==t&&(fe.className=fe.className.replace(/cm-s-\w+/,"cm-s-"+e))},getOption:function(t){return ee[t]},undo:_t(G),redo:_t(X),indentLine:_t(function(t,e){a(t)&&St(t,null==e?"smart":e?"add":"subtract")}),historySize:function(){return{undo:ke.done.length,redo:ke.undone.length}},matchBrackets:_t(function(){Gt(!0)}),getTokenAt:function(t){return t=gt(t),we[t.line].getTokenAt(xe,Yt(t.line),t.ch)},getStateAfter:function(t){return t=pt(null==t?we.length-1:t),Yt(t+1)},cursorCoords:function(t){return null==t&&(t=Ie.inverted),Rt(t?Ie.from:Ie.to)},charCoords:function(t){return Rt(gt(t))},coordsChar:function(t){var e=x(me),n=pt(Math.min(we.length-1,De+Math.floor((t.y-e.top)/Pt())));return gt({line:n,ch:It(pt(n),t.x-e.left)})},getSearchCursor:function(t,e,n){return new te(t,e,n)},markText:_t(function(t,e,n){return _t(Lt(t,e,n))}),setMarker:Nt,clearMarker:Ot,setLineClass:_t(Ht),lineInfo:Bt,addWidget:function(t,e,n,r){t=Dt(gt(t));var i=t.yBot,o=t.x;if(e.style.position="absolute",se.appendChild(e),e.style.left=o+"px","over"==r)i=t.y;else if("near"==r){var l=Math.max(fe.offsetHeight,we.length*Pt()),a=Math.max(se.clientWidth,me.clientWidth)-zt();t.yBot+e.offsetHeight>l&&t.y>e.offsetHeight&&(i=t.y-e.offsetHeight),o+e.offsetWidth>a&&(o=a-e.offsetWidth)}e.style.top=i+jt()+"px",e.style.left=o+zt()+"px",n&&lt(o,i,o+e.offsetWidth,i+e.offsetHeight)},lineCount:function(){return we.length},getCursor:function(t){return null==t&&(t=Ie.inverted),C(t?Ie.from:Ie.to)},somethingSelected:function(){return!M(Ie.from,Ie.to)},setCursor:_t(function(t,e){null==e&&"number"==typeof t.line?vt(t.line,t.ch):vt(t,e)}),setSelection:_t(function(t,e){mt(gt(t),gt(e||t))}),getLine:function(t){if(a(t))return we[t].text},setLine:_t(function(t,e){a(t)&&J(e,{line:t,ch:0},{line:t,ch:we[t].text.length})}),removeLine:_t(function(t){a(t)&&J("",{line:t,ch:0},gt({line:t+1,ch:0}))}),replaceRange:_t(J),getRange:function(t,e){return Z(gt(t),gt(e))},operation:function(t){return _t(t)()},refresh:function(){ft(!0)},getInputField:function(){return ae},getWrapperElement:function(){return oe},getScrollerElement:function(){return fe},getGutterElement:function(){return ce}},Ue=!1,Ge={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Xe=0;te.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){function e(t){var e={line:t,ch:0};return n.pos={from:e,to:e},n.atOccurrence=!1,!1}for(var n=this,r=gt(t?this.pos.from:this.pos.to);;){if(this.pos=this.matches(t,r))return this.atOccurrence=!0,this.pos.match||!0;if(t){if(!r.line)return e(0);r={line:r.line-1,ch:we[r.line-1].text.length}}else{if(r.line==we.length-1)return e(we.length);r={line:r.line+1,ch:0}}}},from:function(){if(this.atOccurrence)return C(this.pos.from)},to:function(){if(this.atOccurrence)return C(this.pos.to)},replace:function(t){var e=this;this.atOccurrence&&_t(function(){e.pos.to=J(t,e.pos.from,e.pos.to)})()}};for(var Ye in E)E.propertyIsEnumerable(Ye)&&!Fe.propertyIsEnumerable(Ye)&&(Fe[Ye]=E[Ye]);return Fe}function e(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function n(t,e,n){return!t.startState||t.startState(e,n)}function r(t){this.pos=this.start=0,this.string=t}function i(t,e){this.styles=e||[t,null],this.stateAfter=null,this.text=t,this.marked=this.gutterMarker=this.className=null}function o(t,e,n,r){for(var i=0,o=0,l=0;o<e;i+=2){var a=n[i],f=o+a.length;0==l?(f>t&&r.push(a.slice(t-o,Math.min(a.length,e-o)),n[i+1]),f>=t&&(l=1)):1==l&&(f>e?r.push(a.slice(0,e-o),n[i+1]):r.push(a,n[i+1])),o=f}}function l(){this.time=0,this.done=[],this.undone=[]}function a(){h(this)}function f(t){return t.stop||(t.stop=a),t}function s(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function u(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function h(t){s(t),u(t)}function c(t){return t.target||t.srcElement}function d(t){return t.which?t.which:1&t.button?1:2&t.button?3:4&t.button?2:void 0}function m(t,e,n,r){function i(t){n(t||window.event)}if("function"==typeof t.addEventListener){if(t.addEventListener(e,i,!1),r)return function(){t.removeEventListener(e,i,!1)}}else if(t.attachEvent("on"+e,i),r)return function(){t.detachEvent("on"+e,i)}}function v(){this.id=null}function p(t,e){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var n=0,r=0;n<e;++n)"\t"==t.charAt(n)?r+=K-r%K:++r;return r}function g(t){return t.currentStyle?t.currentStyle:window.getComputedStyle(t,null)}function x(t,e){for(var n=t.ownerDocument.body,r=0,i=0,o=!1,l=t;l;l=l.offsetParent)r+=l.offsetLeft,i+=l.offsetTop,e&&"fixed"==g(l).position&&(o=!0);for(var a=e&&!o?null:n,l=t.parentNode;l!=a;l=l.parentNode)null!=l.scrollLeft&&(r-=l.scrollLeft,i-=l.scrollTop);return{left:r,top:i}}function y(t){return t.textContent||t.innerText||t.nodeValue||""}function M(t,e){return t.line==e.line&&t.ch==e.ch}function b(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function C(t){return{line:t.line,ch:t.ch}}function w(t){return R.innerText=R.textContent=t,R.innerHTML}function k(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,r=e.length;n>=0&&r>=0&&t.charAt(n)==e.charAt(r);--n,--r);return r+1}function T(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;++n)if(t[n]==e)return n;return-1}t.defaults={value:"",mode:null,theme:"night",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,gutter:!1,firstLineNumber:1,readOnly:!1,smartHome:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var S={},A={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),S[e]=n},t.defineMIME=function(t,e){A[t]=e},t.getMode=function(e,n){if("string"==typeof n&&A.hasOwnProperty(n)&&(n=A[n]),"string"==typeof n)var r=n,i={};else if(null!=n)var r=n.name,i=n;var o=S[r];return o?o(e,i||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),t.getMode(e,"text/plain"))},t.listModes=function(){var t=[];for(var e in S)S.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in A)A.propertyIsEnumerable(e)&&t.push(e);return t};var E={};t.defineExtension=function(t,e){E[t]=e},t.fromTextArea=function(e,n){function r(){e.value=a.getValue()}function i(){r(),e.form.submit=l,e.form.submit(),e.form.submit=i}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),e.form){var o=m(e.form,"submit",r,!0);if("function"==typeof e.form.submit){var l=e.form.submit;e.form.submit=i}}e.style.display="none";var a=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return a.save=r,a.toTextArea=function(){r(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(o(),"function"==typeof e.form.submit&&(e.form.submit=l))},a},t.startState=n,t.copyState=e,r.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return p(this.string,this.start)},indentation:function(){return p(this.string)},match:function(t,e,n){function r(t){return n?t.toLowerCase():t}if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&e!==!1&&(this.pos+=i[0].length),i}if(r(this.string).indexOf(r(t),this.pos)==this.pos)return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=r,i.prototype={replace:function(t,e,n){function r(t){return t<=Math.min(e,e+a)?t:t+a}var i=[],l=this.marked;if(o(0,t,this.styles,i),n&&i.push(n,null),o(e,this.text.length,this.styles,i),
this.styles=i,this.text=this.text.slice(0,t)+n+this.text.slice(e),this.stateAfter=null,l)for(var a=n.length-(e-t),f=this.text.length,s=0;s<l.length;++s){var u=l[s],h=!1;u.from>=f?h=!0:(u.from=r(u.from),null!=u.to&&(u.to=r(u.to))),(h||u.from>=u.to)&&(l.splice(s,1),s--)}},split:function(t,e){var n=[e,null];return o(t,this.text.length,this.styles,n),new i(e+this.text.slice(t),n)},addMark:function(t,e,n){var r=(this.marked,{from:t,to:e,style:n});return null==this.marked&&(this.marked=[]),this.marked.push(r),this.marked.sort(function(t,e){return t.from-e.from}),r},removeMark:function(t){var e=this.marked;if(e)for(var n=0;n<e.length;++n)if(e[n]==t){e.splice(n,1);break}},highlight:function(t,e){var n,i=new r(this.text),o=this.styles,l=0,a=!1,f=o[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!i.eol();){var s=t.token(i,e),u=this.text.slice(i.start,i.pos);if(i.start=i.pos,l&&o[l-1]==s?o[l-2]+=u:u&&(!a&&(o[l+1]!=s||l&&o[l-2]!=n)&&(a=!0),o[l++]=u,o[l++]=s,n=f,f=o[l]),i.pos>5e3){o[l++]=this.text.slice(i.pos),o[l++]=null;break}}return o.length!=l&&(o.length=l,a=!0),l&&o[l-2]!=n&&(a=!0),a||o.length<5&&this.text.length<10&&null},getTokenAt:function(t,e,n){for(var i=this.text,o=new r(i);o.pos<n&&!o.eol();){o.start=o.pos;var l=t.token(o,e)}return{start:o.start,end:o.pos,string:o.current(),className:l||null,state:e}},indentation:function(){return p(this.text)},getHTML:function(t,e,n,r){function i(t,e){t&&(e?l.push('<span class="',e,'">',w(t),"</span>"):l.push(w(t)))}function o(){s&&(v+=1,p=v<s.length?s[v]:null)}var l=[];n&&l.push(this.className?'<pre class="'+this.className+'">':"<pre>");var a=this.styles,f=this.text,s=this.marked;t==e&&(t=null);var u=f.length;if(null!=r&&(u=Math.min(r,u)),f||null!=r)if(s||null!=t){var h,c=0,d=0,m="",v=-1,p=null;for(o();c<u;){var g=u,x="";for(null!=t&&(t>c?g=t:(null==e||e>c)&&(x=" CodeMirror-selected",null!=e&&(g=Math.min(g,e))));p&&null!=p.to&&p.to<=c;)o();for(p&&(p.from>c?g=Math.min(g,p.from):(x+=" "+p.style,null!=p.to&&(g=Math.min(g,p.to))));;){var y=c+m.length,M=h;if(x&&(M=h?h+x:x),i(y>g?m.slice(0,g-c):m,M),y>=g){m=m.slice(g-c),c=g;break}c=y,m=a[d++],h="cm-"+a[d++]}}null!=t&&null==e&&i(" ","CodeMirror-selected")}else for(var d=0,b=0;b<u;d+=2){var C=a[d],k=C.length;b+k>u&&(C=C.slice(0,u-b)),b+=k,i(C,"cm-"+a[d+1])}else i(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&l.push("</pre>"),l.join("")}},l.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(r-this.time>400||!i||i.start>t+e||i.start+i.added<t-i.added+i.old.length)this.done.push({start:t,added:e,old:n});else{var o=0;if(t<i.start){for(var l=i.start-t-1;l>=0;--l)i.old.unshift(n[l]);i.added+=i.start-t,i.start=t}else i.start<t&&(o=t-i.start,e+=o);for(var l=i.added-o,a=n.length;l<a;++l)i.old.push(n[l]);i.added<e&&(i.added=e)}this.time=r}},v.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var L=function(){var t=document.createElement("pre");return t.innerHTML=" ",!t.innerHTML}(),N=/gecko\/\d{7}/i.test(navigator.userAgent),O=/MSIE \d/.test(navigator.userAgent),H=/Apple Computer/.test(navigator.vendor),B="\n";!function(){var t=document.createElement("textarea");t.value="foo\nbar",t.value.indexOf("\r")>-1&&(B="\r\n")}();for(var K=8,W=/Mac/.test(navigator.platform),I={},D=35;D<=40;++D)I[D]=I["c"+D]=!0;var R=document.createElement("div");t.htmlEscape=w;var P,j,z;return P=3!="\n\nb".split(/\n/).length?function(t){for(var e,n=0,r=[];(e=t.indexOf("\n",n))>-1;)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r}:function(t){return t.split(/\r?\n/)},t.splitLines=P,window.getSelection?(j=function(t){try{return{start:t.selectionStart,end:t.selectionEnd}}catch(t){return null}},z=H?function(t,e,n){e==n?t.setSelectionRange(e,n):(t.setSelectionRange(e,n-1),window.getSelection().modify("extend","forward","character"))}:function(t,e,n){try{t.setSelectionRange(e,n)}catch(t){}}):(j=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){return null}if(!e||e.parentElement()!=t)return null;var n=t.value,r=n.length,i=t.createTextRange();i.moveToBookmark(e.getBookmark());var o=t.createTextRange();if(o.collapse(!1),i.compareEndPoints("StartToEnd",o)>-1)return{start:r,end:r};for(var l=-i.moveStart("character",-r),a=n.indexOf("\r");a>-1&&a<l;a=n.indexOf("\r",a+1),l++);if(i.compareEndPoints("EndToEnd",o)>-1)return{start:l,end:r};for(var f=-i.moveEnd("character",-r),a=n.indexOf("\r");a>-1&&a<f;a=n.indexOf("\r",a+1),f++);return{start:l,end:f}},z=function(t,e,n){var r=t.createTextRange();r.collapse(!0);for(var i=r.duplicate(),o=0,l=t.value,a=l.indexOf("\n");a>-1&&a<e;a=l.indexOf("\n",a+1))++o;for(r.move("character",e-o);a>-1&&a<n;a=l.indexOf("\n",a+1))++o;i.move("character",n-o),r.setEndPoint("EndToEnd",i),r.select()}),t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null"),t}();
